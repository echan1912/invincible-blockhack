<!DOCTYPE html>

<header>
<script> charset="utf-8"
    src="https://cdn.ethers.io/scripts/ethers-v4.min.js"
    type="text/javascript">
</script>

<script>
windows.ethereum.enable();
var provider = new ethers.providers.Web3Provider(web3.currentProvider, 'ropsten');
var MoodContractAddress = "0x2E914dC3Aea006bfBb529f72b27E2931EE668900";
var MoodContractABI = [
{
    "inputs": [],
    "name": "getMood",
    "outputs": [
        {
            "internalType": "string",
            "name": "",
            "type": "string"
        }
    ],
    "stateMutability": "view",
    "type": "function"
},
{
    "inputs": [
        {
            "internalType": "string",
            "name": "_mood",
            "type": "string"
        }
    ],
    "name": "setMood",
    "outputs": [],
    "stateMutability": "nonpayable",
    "type": "function"
}
]
var MoodContract
var signer

provider.listAccounts().then(function(accounts) {
  signer = provider.getSigner(accounts[0]);
  MoodContract = new ethers.Contract(MoodContractAddress, MoodContractABI, signer);
})

async function getMood(){
getMoodPromise = MoodContract.getMood();
var Mood = await getMoodPromise;
console.log(Mood);
}

async function setMood(){
let mood = document.getElementById("mood").value
setMoodPromise = MoodContract.setMood("patient");
await setMoodPromise;
}

</script>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Managers</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
    html,body,h1,h2,h3,h4,h5,h6 {font-family: "Helvetica", sans-serif;}
    .w3-sidebar {
      z-index: 3;
      width: 250px;
      top: 43px;
      bottom: 0;
      height: inherit;
    }
    </style>
<div class="w3-top">
    <div class="w3-bar w3-theme w3-top w3-left-align w3-large">
      <a class="w3-bar-item w3-button w3-right w3-hide-large w3-hover-white w3-large w3-theme-l1" href="javascript:void(0)" onclick="w3_open()"><i class="fa fa-bars"></i></a>
      <a href="http://127.0.0.1:5500/blocktrans/home.html" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Home</a>
      <a href="http://127.0.0.1:5500/blocktrans/translate.html" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Translators</a>
      <a href="http://127.0.0.1:5500/blocktrans/manager.html" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Managers</a>
</header>
<html>
          
<body>
    <div class="w3-main" style="margin-left:250px">

        <div class="w3-row w3-padding-64">
          <div class="w3-twothird w3-container">
    <h1 class="w3-text-teal">Check your crypto balance</h1>
    <p>Here we can set or get the crypto:</p>
    <label for="mood">Input Transactions</label> <br>
    </div>
    <input type="text" id="mood">
    <div>
        <button onclick="getMood()"> get Transaction </button>
    </div>
    <div>
        <button onclick="setMood()"> set Transaction </button>
    </div>
    </div>
</body>
</html>  